<html><head><base href="." />
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Taller Automotriz - Registro</title>
<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  }

  body {
    background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .container {
    background: white;
    padding: 2rem;
    border-radius: 10px;
    box-shadow: 0 0 20px rgba(0,0,0,0.2);
    width: 90%;
    max-width: 500px;
  }

  .form-container, .services-container, .reviews-container, .lightsReview-container, .electronicsReview-container, .emergencyReview-container, .engineReview-container, .additionalSystemsReview-container, .fluidsReview-container, .blankReview-container, .finalBlankSection {
    display: none;
  }

  .active {
    display: block;
  }

  h1 {
    color: #1e3c72;
    text-align: center;
    margin-bottom: 2rem;
  }

  .subtitle {
    text-align: center;
    color: #2a5298;
    margin-bottom: 2rem;
    font-size: 1rem;
  }

  .subtitle a {
    color: #2a5298;
    text-decoration: none;
  }

  .subtitle a:hover {
    text-decoration: underline;
  }

  .maintenance-tabs {
    margin-bottom: 2rem;
  }

  .maintenance-item {
    background: #f8f9fa;
    padding: 1rem;
    margin-bottom: 1rem;
    border-radius: 5px;
    border-left: 4px solid #1e3c72;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .maintenance-item label {
    margin: 0;
    font-weight: 600;
    color: #333;
    flex-grow: 1;
  }

  .maintenance-item input[type="date"] {
    width: 200px;
    padding: 0.5rem;
    border: 2px solid #ddd;
    border-radius: 5px;
    font-size: 1rem;
    transition: border-color 0.3s;
  }

  .maintenance-item input[type="date"]:focus {
    outline: none;
    border-color: #1e3c72;
  }

  label {
    display: block;
    margin-bottom: 0.5rem;
    color: #333;
    font-weight: 600;
  }

  input {
    width: 100%;
    padding: 0.8rem;
    border: 2px solid #ddd;
    border-radius: 5px;
    font-size: 1rem;
    transition: border-color 0.3s;
  }

  input:focus {
    outline: none;
    border-color: #1e3c72;
  }

  button {
    background: #1e3c72;
    color: white;
    padding: 1rem 2rem;
    border: none;
    border-radius: 5px;
    width: 100%;
    font-size: 1rem;
    cursor: pointer;
    transition: background 0.3s;
  }

  button:hover {
    background: #2a5298;
  }

  .service-card {
    background: #f8f9fa;
    padding: 1rem;
    margin-bottom: 1rem;
    border-radius: 5px;
    border-left: 4px solid #1e3c72;
  }

  .error {
    color: red;
    font-size: 0.9rem;
    margin-top: 0.3rem;
  }

  .back-button {
    background: #6c757d;
    margin-top: 1rem;
  }

  .back-button:hover {
    background: #5a6268;
  }

  select {
    width: 100%;
    padding: 0.8rem;
    border: 2px solid #ddd;
    border-radius: 5px;
    font-size: 1rem;
    transition: border-color 0.3s;
    background-color: white;
  }

  select:focus {
    outline: none;
    border-color: #1e3c72;
  }

  .reviews-container {
    display: none;
  }

  .reviews-container.active {
    display: block;
  }

  .checklist-item {
    background: #f8f9fa;
    padding: 1rem;
    margin-bottom: 1rem;
    border-radius: 5px;
    border-left: 4px solid #1e3c72;
    display: flex;
    align-items: center;
    gap: 1rem;
  }

  .checklist-item input[type="checkbox"] {
    width: auto;
  }

  .checklist-item label {
    margin: 0;
    flex-grow: 1;
  }

  .checklist-item select {
    width: 150px;
    margin-left: auto;
  }

  .observations {
    width: 100%;
    padding: 0.8rem;
    border: 2px solid #ddd;
    border-radius: 5px;
    font-size: 1rem;
    min-height: 100px;
    resize: vertical;
    margin-top: 1rem;
  }

  .observations:focus {
    outline: none;
    border-color: #1e3c72;
  }

  .pdf-preview {
    background: white;
    padding: 2rem;
    margin: 2rem 0;
    border: 1px solid #ddd;
    border-radius: 5px;
  }

  .download-button {
    background: #28a745;
    margin-top: 1rem;
  }

  .download-button:hover {
    background: #218838;
  }
</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>

<div class="container">
  <!-- Formulario de Registro -->
  <div class="form-container active" id="registerForm">
  
    <h1>Registro Taller Automotriz</h1>
    <div class="subtitle">
      <a href="https://consultoria-ingenieria.com">consultoria-ingenieria.com</a>
    </div>
    <form id="registrationForm" onsubmit="handleSubmit(event)">
      <div class="form-group">
        <label for="nombre">Nombre</label>
        <input type="text" id="nombre" required>
      </div>
      <div class="form-group">
        <label for="apellido">Apellido</label>
        <input type="text" id="apellido" required>
      </div>
      <div class="form-group">
        <label for="email">Correo Electrónico</label>
        <input type="email" id="email" required>
      </div>
      <div class="form-group">
        <label for="celular">Número Celular</label>
        <input type="tel" id="celular" required pattern="[0-9]{8}">
      </div>
      <button type="submit">Registrarse</button>
    </form>
  </div>

  <!-- Pantalla de Servicios -->
  <div class="services-container" id="servicesSection">
    <h1>Datos del Vehículo</h1>
    <form id="vehicleForm" onsubmit="handleVehicleSubmit(event)">
      <div class="form-group">
        <label for="placa">Número de Placa</label>
        <input type="text" id="placa" required>
      </div>
      <div class="form-group">
        <label for="marca">Marca</label>
        <input type="text" id="marca" required>
      </div>
      <div class="form-group">
        <label for="tipo">Tipo</label>
        <select id="tipo" required>
          <option value="">Seleccione tipo</option>
          <option value="sedan">Sedán</option>
          <option value="suv">SUV</option>
          <option value="pickup">Pick-up</option>
          <option value="hatchback">Hatchback</option>
          <option value="deportivo">Deportivo</option>
        </select>
      </div>
      <div class="form-group">
        <label for="modelo">Modelo</label>
        <input type="text" id="modelo" required>
      </div>
      <div class="form-group">
        <label for="anio">Año</label>
        <input type="number" id="anio" min="1900" max="2024" required>
      </div>
      <div class="form-group">
        <label for="color">Color</label>
        <input type="text" id="color" required>
      </div>
      <div class="form-group">
        <label for="transmision">Transmisión</label>
        <select id="transmision" required>
          <option value="">Seleccione transmisión</option>
          <option value="manual">Manual</option>
          <option value="automatica">Automática</option>
          <option value="cvt">CVT</option>
        </select>
      </div>
      <div class="form-group">
        <label for="cilindrada">Cilindrada</label>
        <input type="text" id="cilindrada" required placeholder="Ej: 2.0L">
      </div>
      <div class="form-group">
        <label for="estado">Estado</label>
        <select id="estado" required>
          <option value="">Seleccione estado</option>
          <option value="excelente">Excelente</option>
          <option value="bueno">Bueno</option>
          <option value="regular">Regular</option>
          <option value="necesita_reparacion">Necesita reparación</option>
        </select>
      </div>
      <button type="submit">Guardar datos del vehículo</button>
    </form>
    <button class="back-button" onclick="goBack()">Volver al Registro</button>
  </div>

  <!-- Pantalla de Revisiones -->
  <div class="reviews-container" id="reviewsSection">
    <h1>Revisión Exterior y Accesorios</h1>
    <form id="reviewForm" onsubmit="handleReviewSubmit(event)">
      <div class="checklist-item">
        <input type="checkbox" id="pintura" name="pintura">
        <label for="pintura">Pintura</label>
        <select id="pintura_estado" name="pintura_estado">
          <option value="">Seleccione estado</option>
          <option value="excelente">Excelente estado</option>
          <option value="bueno">Buen estado</option>
          <option value="regular">Regular estado</option>
          <option value="malo">Mal estado</option>
        </select>
      </div>
      <div class="checklist-item">
        <input type="checkbox" id="tapiceria" name="tapiceria">
        <label for="tapiceria">Tapicería</label>
        <select id="tapiceria_estado" name="tapiceria_estado">
          <option value="">Seleccione estado</option>
          <option value="excelente">Excelente estado</option>
          <option value="bueno">Buen estado</option>
          <option value="regular">Regular estado</option>
          <option value="malo">Mal estado</option>
        </select>
      </div>
      <div class="checklist-item">
        <input type="checkbox" id="alfombras" name="alfombras">
        <label for="alfombras">Alfombras</label>
        <select id="alfombras_estado" name="alfombras_estado">
          <option value="">Seleccione estado</option>
          <option value="excelente">Excelente estado</option>
          <option value="bueno">Buen estado</option>
          <option value="regular">Regular estado</option>
          <option value="malo">Mal estado</option>
        </select>
      </div>
      <div class="checklist-item">
        <input type="checkbox" id="loderas" name="loderas">
        <label for="loderas">Loderas</label>
        <select id="loderas_estado" name="loderas_estado">
          <option value="">Seleccione estado</option>
          <option value="excelente">Excelente estado</option>
          <option value="bueno">Buen estado</option>
          <option value="regular">Regular estado</option>
          <option value="malo">Mal estado</option>
        </select>
      </div>
      <div class="checklist-item">
        <input type="checkbox" id="llantas" name="llantas">
        <label for="llantas">Llantas</label>
        <select id="llantas_estado" name="llantas_estado">
          <option value="">Seleccione estado</option>
          <option value="excelente">Excelente estado</option>
          <option value="bueno">Buen estado</option>
          <option value="regular">Regular estado</option>
          <option value="malo">Mal estado</option>
        </select>
      </div>
      <div class="checklist-item">
        <input type="checkbox" id="focos_delanteros" name="focos_delanteros">
        <label for="focos_delanteros">Focos Delanteros</label>
        <select id="focos_delanteros_estado" name="focos_delanteros_estado">
          <option value="">Seleccione estado</option>
          <option value="excelente">Excelente estado</option>
          <option value="bueno">Buen estado</option>
          <option value="regular">Regular estado</option>
          <option value="malo">Mal estado</option>
        </select>
      </div>
      <div class="checklist-item">
        <input type="checkbox" id="escobillas" name="escobillas">
        <label for="escobillas">Escobillas</label>
        <select id="escobillas_estado" name="escobillas_estado">
          <option value="">Seleccione estado</option>
          <option value="excelente">Excelente estado</option>
          <option value="bueno">Buen estado</option>
          <option value="regular">Regular estado</option>
          <option value="malo">Mal estado</option>
        </select>
      </div>
      <div class="form-group">
        <label for="observaciones">Observaciones generales</label>
        <textarea class="observations" id="observaciones" name="observaciones"></textarea>
      </div>
      <button type="submit">Guardar revisión</button>
      <button type="button" class="back-button" onclick="goBackToVehicle()">Volver a datos del vehículo</button>
    </form>
  </div>

  <!-- Nueva sección de revisión de luces -->
  <div class="reviews-container" id="lightsReviewSection">
    <h1>Revisión Exterior y Accesorios</h1>
    <form id="lightsReviewForm" onsubmit="handleLightsReviewSubmit(event)">
      <div class="checklist-item">
        <input type="checkbox" id="direccionales_delanteros" name="direccionales_delanteros">
        <label for="direccionales_delanteros">Direccionales Delanteros</label>
        <select id="direccionales_delanteros_estado" name="direccionales_delanteros_estado">
          <option value="">Seleccione estado</option>
          <option value="excelente">Excelente estado</option>
          <option value="bueno">Buen estado</option>
          <option value="regular">Regular estado</option>
          <option value="malo">Mal estado</option>
        </select>
      </div>
      <div class="checklist-item">
        <input type="checkbox" id="direccionales_traseros" name="direccionales_traseros">
        <label for="direccionales_traseros">Direccionales Traseros</label>
        <select id="direccionales_traseros_estado" name="direccionales_traseros_estado">
          <option value="">Seleccione estado</option>
          <option value="excelente">Excelente estado</option>
          <option value="bueno">Buen estado</option>
          <option value="regular">Regular estado</option>
          <option value="malo">Mal estado</option>
        </select>
      </div>
      <div class="checklist-item">
        <input type="checkbox" id="antineblineros" name="antineblineros">
        <label for="antineblineros">Antineblineros</label>
        <select id="antineblineros_estado" name="antineblineros_estado">
          <option value="">Seleccione estado</option>
          <option value="excelente">Excelente estado</option>
          <option value="bueno">Buen estado</option>
          <option value="regular">Regular estado</option>
          <option value="malo">Mal estado</option>
        </select>
      </div>
      <div class="checklist-item">
        <input type="checkbox" id="luz_freno" name="luz_freno">
        <label for="luz_freno">Luz de Freno</label>
        <select id="luz_freno_estado" name="luz_freno_estado">
          <option value="">Seleccione estado</option>
          <option value="excelente">Excelente estado</option>
          <option value="bueno">Buen estado</option>
          <option value="regular">Regular estado</option>
          <option value="malo">Mal estado</option>
        </select>
      </div>
      <div class="checklist-item">
        <input type="checkbox" id="cuarto_luz" name="cuarto_luz">
        <label for="cuarto_luz">Cuarto de Luz</label>
        <select id="cuarto_luz_estado" name="cuarto_luz_estado">
          <option value="">Seleccione estado</option>
          <option value="excelente">Excelente estado</option>
          <option value="bueno">Buen estado</option>
          <option value="regular">Regular estado</option>
          <option value="malo">Mal estado</option>
        </select>
      </div>
      <div class="checklist-item">
        <input type="checkbox" id="tercera_luz_freno" name="tercera_luz_freno">
        <label for="tercera_luz_freno">Tercera Luz de Freno</label>
        <select id="tercera_luz_freno_estado" name="tercera_luz_freno_estado">
          <option value="">Seleccione estado</option>
          <option value="excelente">Excelente estado</option>
          <option value="bueno">Buen estado</option>
          <option value="regular">Regular estado</option>
          <option value="malo">Mal estado</option>
        </select>
      </div>
      <div class="form-group">
        <label for="observaciones_luces">Observaciones generales</label>
        <textarea class="observations" id="observaciones_luces" name="observaciones_luces"></textarea>
      </div>
      <button type="submit">Guardar revisión</button>
      <button type="button" class="back-button" onclick="goBackToFirstReview()">Volver a revisión anterior</button>
    </form>
  </div>

  <!-- Nueva sección de revisión de electrónicos -->
  <div class="reviews-container" id="electronicsReviewSection">
    <h1>Revisión Exterior y Accesorios</h1>
    <form id="electronicsReviewForm" onsubmit="handleElectronicsReviewSubmit(event)">
      <div class="checklist-item">
        <input type="checkbox" id="camara_retroceso" name="camara_retroceso">
        <label for="camara_retroceso">Cámara de Retroceso</label>
        <select id="camara_retroceso_estado" name="camara_retroceso_estado">
          <option value="">Seleccione estado</option>
          <option value="excelente">Excelente estado</option>
          <option value="bueno">Buen estado</option>
          <option value="regular">Regular estado</option>
          <option value="malo">Mal estado</option>
        </select>
      </div>
      <div class="checklist-item">
        <input type="checkbox" id="radio" name="radio">
        <label for="radio">Radio</label>
        <select id="radio_estado" name="radio_estado">
          <option value="">Seleccione estado</option>
          <option value="excelente">Excelente estado</option>
          <option value="bueno">Buen estado</option>
          <option value="regular">Regular estado</option>
          <option value="malo">Mal estado</option>
        </select>
      </div>
      <div class="checklist-item">
        <input type="checkbox" id="pantalla" name="pantalla">
        <label for="pantalla">Pantalla</label>
        <select id="pantalla_estado" name="pantalla_estado">
          <option value="">Seleccione estado</option>
          <option value="excelente">Excelente estado</option>
          <option value="bueno">Buen estado</option>
          <option value="regular">Regular estado</option>
          <option value="malo">Mal estado</option>
        </select>
      </div>
      <div class="checklist-item">
        <input type="checkbox" id="aire_acondicionado" name="aire_acondicionado">
        <label for="aire_acondicionado">Aire Acondicionado</label>
        <select id="aire_acondicionado_estado" name="aire_acondicionado_estado">
          <option value="">Seleccione estado</option>
          <option value="excelente">Excelente estado</option>
          <option value="bueno">Buen estado</option>
          <option value="regular">Regular estado</option>
          <option value="malo">Mal estado</option>
        </select>
      </div>
      <div class="checklist-item">
        <input type="checkbox" id="cerradura_puertas" name="cerradura_puertas">
        <label for="cerradura_puertas">Cerradura de Puertas</label>
        <select id="cerradura_puertas_estado" name="cerradura_puertas_estado">
          <option value="">Seleccione estado</option>
          <option value="excelente">Excelente estado</option>
          <option value="bueno">Buen estado</option>
          <option value="regular">Regular estado</option>
          <option value="malo">Mal estado</option>
        </select>
      </div>
      <div class="checklist-item">
        <input type="checkbox" id="pito" name="pito">
        <label for="pito">Pito</label>
        <select id="pito_estado" name="pito_estado">
          <option value="">Seleccione estado</option>
          <option value="excelente">Excelente estado</option>
          <option value="bueno">Buen estado</option>
          <option value="regular">Regular estado</option>
          <option value="malo">Mal estado</option>
        </select>
      </div>
      <div class="form-group">
        <label for="observaciones_electronicos">Observaciones generales</label>
        <textarea class="observations" id="observaciones_electronicos" name="observaciones_electronicos"></textarea>
      </div>
      <button type="submit">Guardar revisión</button>
      <button type="button" class="back-button" onclick="goBackToLightsReview()">Volver a revisión anterior</button>
    </form>
  </div>

  <!-- Nueva sección de revisión de equipamiento de emergencia -->
  <div class="reviews-container" id="emergencyReviewSection">
    <h1>Revisión Exterior y Accesorios</h1>
    <form id="emergencyReviewForm" onsubmit="handleEmergencyReviewSubmit(event)">
      <div class="checklist-item">
        <input type="checkbox" id="luces_emergencia" name="luces_emergencia">
        <label for="luces_emergencia">Luces de Emergencia</label>
        <select id="luces_emergencia_estado" name="luces_emergencia_estado">
          <option value="">Seleccione estado</option>
          <option value="excelente">Excelente estado</option>
          <option value="bueno">Buen estado</option>
          <option value="regular">Regular estado</option>
          <option value="malo">Mal estado</option>
        </select>
      </div>
      <div class="checklist-item">
        <input type="checkbox" id="extintor" name="extintor">
        <label for="extintor">Extintor</label>
        <select id="extintor_estado" name="extintor_estado">
          <option value="">Seleccione estado</option>
          <option value="excelente">Excelente estado</option>
          <option value="bueno">Buen estado</option>
          <option value="regular">Regular estado</option>
          <option value="malo">Mal estado</option>
        </select>
      </div>
      <div class="checklist-item">
        <input type="checkbox" id="botiquin" name="botiquin">
        <label for="botiquin">Botiquín</label>
        <select id="botiquin_estado" name="botiquin_estado">
          <option value="">Seleccione estado</option>
          <option value="excelente">Excelente estado</option>
          <option value="bueno">Buen estado</option>
          <option value="regular">Regular estado</option>
          <option value="malo">Mal estado</option>
        </select>
      </div>
      <div class="checklist-item">
        <input type="checkbox" id="repuesto" name="repuesto">
        <label for="repuesto">Repuesto</label>
        <select id="repuesto_estado" name="repuesto_estado">
          <option value="">Seleccione estado</option>
          <option value="excelente">Excelente estado</option>
          <option value="bueno">Buen estado</option>
          <option value="regular">Regular estado</option>
          <option value="malo">Mal estado</option>
        </select>
      </div>
      <div class="checklist-item">
        <input type="checkbox" id="herramientas" name="herramientas">
        <label for="herramientas">Herramientas</label>
        <select id="herramientas_estado" name="herramientas_estado">
          <option value="">Seleccione estado</option>
          <option value="excelente">Excelente estado</option>
          <option value="bueno">Buen estado</option>
          <option value="regular">Regular estado</option>
          <option value="malo">Mal estado</option>
        </select>
      </div>
      <div class="checklist-item">
        <input type="checkbox" id="equipo_seguridad" name="equipo_seguridad">
        <label for="equipo_seguridad">Equipo de Seguridad</label>
        <select id="equipo_seguridad_estado" name="equipo_seguridad_estado">
          <option value="">Seleccione estado</option>
          <option value="excelente">Excelente estado</option>
          <option value="bueno">Buen estado</option>
          <option value="regular">Regular estado</option>
          <option value="malo">Mal estado</option>
        </select>
      </div>
      <div class="form-group">
        <label for="observaciones_emergencia">Observaciones generales</label>
        <textarea class="observations" id="observaciones_emergencia" name="observaciones_emergencia"></textarea>
      </div>
      <button type="submit">Guardar revisión</button>
      <button type="button" class="back-button" onclick="goBackToElectronicsReview()">Volver a revisión anterior</button>
    </form>
  </div>

  <!-- Nueva sección de revisión del motor -->
  <div class="reviews-container" id="engineReviewSection">
    <h1>Revisión Mecánica</h1>
    <form id="engineReviewForm" onsubmit="handleEngineReviewSubmit(event)">
      <div class="checklist-item">
        <input type="checkbox" id="diagnostico_motor" name="diagnostico_motor">
        <label for="diagnostico_motor">Diagnóstico del Motor</label>
        <select id="diagnostico_motor_estado" name="diagnostico_motor_estado">
          <option value="">Seleccione estado</option>
          <option value="excelente">Excelente estado</option>
          <option value="bueno">Buen estado</option>
          <option value="regular">Regular estado</option>
          <option value="malo">Mal estado</option>
        </select>
      </div>
      <div class="checklist-item">
        <input type="checkbox" id="aceite_motor" name="aceite_motor">
        <label for="aceite_motor">Revisión Aceite del Motor</label>
        <select id="aceite_motor_estado" name="aceite_motor_estado">
          <option value="">Seleccione estado</option>
          <option value="excelente">Excelente estado</option>
          <option value="bueno">Buen estado</option>
          <option value="regular">Regular estado</option>
          <option value="malo">Mal estado</option>
        </select>
      </div>
      <div class="checklist-item">
        <input type="checkbox" id="sistema_frenos" name="sistema_frenos">
        <label for="sistema_frenos">Sistema de Frenos</label>
        <select id="sistema_frenos_estado" name="sistema_frenos_estado">
          <option value="">Seleccione estado</option>
          <option value="excelente">Excelente estado</option>
          <option value="bueno">Buen estado</option>
          <option value="regular">Regular estado</option>
          <option value="malo">Mal estado</option>
        </select>
      </div>
      <div class="checklist-item">
        <input type="checkbox" id="sistema_suspension" name="sistema_suspension">
        <label for="sistema_suspension">Sistema de Suspensión</label>
        <select id="sistema_suspension_estado" name="sistema_suspension_estado">
          <option value="">Seleccione estado</option>
          <option value="excelente">Excelente estado</option>
          <option value="bueno">Buen estado</option>
          <option value="regular">Regular estado</option>
          <option value="malo">Mal estado</option>
        </select>
      </div>
      <div class="checklist-item">
        <input type="checkbox" id="estado_bateria" name="estado_bateria">
        <label for="estado_bateria">Estado de Batería</label>
        <select id="estado_bateria_estado" name="estado_bateria_estado">
          <option value="">Seleccione estado</option>
          <option value="excelente">Excelente estado</option>
          <option value="bueno">Buen estado</option>
          <option value="regular">Regular estado</option>
          <option value="malo">Mal estado</option>
        </select>
      </div>
      <div class="checklist-item">
        <input type="checkbox" id="bujias_cables" name="bujias_cables">
        <label for="bujias_cables">Revisión Bujías y Cables</label>
        <select id="bujias_cables_estado" name="bujias_cables_estado">
          <option value="">Seleccione estado</option>
          <option value="excelente">Excelente estado</option>
          <option value="bueno">Buen estado</option>
          <option value="regular">Regular estado</option>
          <option value="malo">Mal estado</option>
        </select>
      </div>
      <div class="form-group">
        <label for="observaciones_motor">Observaciones generales</label>
        <textarea class="observations" id="observaciones_motor" name="observaciones_motor"></textarea>
      </div>
      <button type="submit">Guardar revisión</button>
      <button type="button" class="back-button" onclick="goBackToEmergencyReview()">Volver a revisión anterior</button>
    </form>
  </div>

  <!-- Nueva sección de revisión de sistemas adicionales -->
  <div class="reviews-container" id="additionalSystemsReviewSection">
    <h1>Revisión Mecánica</h1>
    <form id="additionalSystemsReviewForm" onsubmit="handleAdditionalSystemsReviewSubmit(event)">
      <div class="checklist-item">
        <input type="checkbox" id="revision_inyectores" name="revision_inyectores">
        <label for="revision_inyectores">Revisión de Inyectores</label>
        <select id="revision_inyectores_estado" name="revision_inyectores_estado">
          <option value="">Seleccione estado</option>
          <option value="excelente">Excelente estado</option>
          <option value="bueno">Buen estado</option>
          <option value="regular">Regular estado</option>
          <option value="malo">Mal estado</option>
        </select>
      </div>
      <div class="checklist-item">
        <input type="checkbox" id="aceite_hidraulico" name="aceite_hidraulico">
        <label for="aceite_hidraulico">Revisión Aceite Hidráulico</label>
        <select id="aceite_hidraulico_estado" name="aceite_hidraulico_estado">
          <option value="">Seleccione estado</option>
          <option value="excelente">Excelente estado</option>
          <option value="bueno">Buen estado</option>
          <option value="regular">Regular estado</option>
          <option value="malo">Mal estado</option>
        </select>
      </div>
      <div class="checklist-item">
        <input type="checkbox" id="bomba_agua" name="bomba_agua">
        <label for="bomba_agua">Bomba de Agua</label>
        <select id="bomba_agua_estado" name="bomba_agua_estado">
          <option value="">Seleccione estado</option>
          <option value="excelente">Excelente estado</option>
          <option value="bueno">Buen estado</option>
          <option value="regular">Regular estado</option>
          <option value="malo">Mal estado</option>
        </select>
      </div>
      <div class="checklist-item">
        <input type="checkbox" id="bomba_gasolina" name="bomba_gasolina">
        <label for="bomba_gasolina">Bomba de Gasolina</label>
        <select id="bomba_gasolina_estado" name="bomba_gasolina_estado">
          <option value="">Seleccione estado</option>
          <option value="excelente">Excelente estado</option>
          <option value="bueno">Buen estado</option>
          <option value="regular">Regular estado</option>
          <option value="malo">Mal estado</option>
        </select>
      </div>
      <div class="checklist-item">
        <input type="checkbox" id="sistema_escape" name="sistema_escape">
        <label for="sistema_escape">Sistema de Escape (Humo)</label>
        <select id="sistema_escape_estado" name="sistema_escape_estado">
          <option value="">Seleccione estado</option>
          <option value="excelente">Excelente estado</option>
          <option value="bueno">Buen estado</option>
          <option value="regular">Regular estado</option>
          <option value="malo">Mal estado</option>
        </select>
      </div>
      <div class="form-group">
        <label for="observaciones_sistemas">Observaciones generales</label>
        <textarea class="observations" id="observaciones_sistemas" name="observaciones_sistemas"></textarea>
      </div>
      <button type="submit">Guardar revisión</button>
      <button type="button" class="back-button" onclick="goBackToEngineReview()">Volver a revisión anterior</button>
    </form>
  </div>

  <!-- Nueva sección de revisión de líquidos -->
  <div class="reviews-container" id="fluidsReviewSection">
    <h1>Revisión Mecánica</h1>
    <form id="fluidsReviewForm" onsubmit="handleFluidsReviewSubmit(event)">
      <div class="checklist-item">
        <input type="checkbox" id="liquido_frenos" name="liquido_frenos">
        <label for="liquido_frenos">Revisión Líquido de Frenos</label>
        <select id="liquido_frenos_estado" name="liquido_frenos_estado">
          <option value="">Seleccione estado</option>
          <option value="excelente">Excelente estado</option>
          <option value="bueno">Buen estado</option>
          <option value="regular">Regular estado</option>
          <option value="malo">Mal estado</option>
        </select>
      </div>
      <div class="checklist-item">
        <input type="checkbox" id="caja_transmision" name="caja_transmision">
        <label for="caja_transmision">Revisión Caja de Transmisión</label>
        <select id="caja_transmision_estado" name="caja_transmision_estado">
          <option value="">Seleccione estado</option>
          <option value="excelente">Excelente estado</option>
          <option value="bueno">Buen estado</option>
          <option value="regular">Regular estado</option>
          <option value="malo">Mal estado</option>
        </select>
      </div>
      <div class="checklist-item">
        <input type="checkbox" id="aceite_transmision" name="aceite_transmision">
        <label for="aceite_transmision">Revisión Aceite de Transmisión</label>
        <select id="aceite_transmision_estado" name="aceite_transmision_estado">
          <option value="">Seleccione estado</option>
          <option value="excelente">Excelente estado</option>
          <option value="bueno">Buen estado</option>
          <option value="regular">Regular estado</option>
          <option value="malo">Mal estado</option>
        </select>
      </div>
      <div class="checklist-item">
        <input type="checkbox" id="sistema_enfriamiento" name="sistema_enfriamiento">
        <label for="sistema_enfriamiento">Revisión Sistema de Enfriamiento del Motor</label>
        <select id="sistema_enfriamiento_estado" name="sistema_enfriamiento_estado">
          <option value="">Seleccione estado</option>
          <option value="excelente">Excelente estado</option>
          <option value="bueno">Buen estado</option>
          <option value="regular">Regular estado</option>
          <option value="malo">Mal estado</option>
        </select>
      </div>
      <div class="form-group">
        <label for="observaciones_fluidos">Observaciones generales</label>
        <textarea class="observations" id="observaciones_fluidos" name="observaciones_fluidos"></textarea>
      </div>
      <button type="submit">Guardar revisión</button>
      <button type="button" class="back-button" onclick="goBackToAdditionalSystems()">Volver a revisión anterior</button>
    </form>
  </div>

  <!-- Nueva sección en blanco -->
  <div class="reviews-container" id="blankReviewSection">
    <h1>Estadísticas de mantenimiento</h1>
    <form id="blankReviewForm" onsubmit="handleMaintenanceSubmit(event)">
      <div class="maintenance-tabs">
        <div class="maintenance-item">
          <label>Cambio aceite de motor</label>
          <input type="date" id="fecha_cambio_aceite_motor">
        </div>
        
        <div class="maintenance-item">
          <label>Cambio aceite hidráulico</label>
          <input type="date" id="fecha_cambio_aceite_hidraulico">
        </div>
        
        <div class="maintenance-item">
          <label>Cambio aceite de transmisión</label>
          <input type="date" id="fecha_cambio_aceite_transmision">
        </div>
        
        <div class="maintenance-item">
          <label>Cambio líquido de frenos</label>
          <input type="date" id="fecha_cambio_liquido_frenos">
        </div>
        
        <div class="maintenance-item">
          <label>Cambio líquido anticongelante</label>
          <input type="date" id="fecha_cambio_anticongelante">
        </div>
        
        <div class="maintenance-item">
          <label>Cambio de filtro de gasolina</label>
          <input type="date" id="fecha_cambio_filtro_gasolina">
        </div>
        
        <div class="maintenance-item">
          <label>Cambio filtro de aire</label>
          <input type="date" id="fecha_cambio_filtro_aire">
        </div>
      </div>

      <div class="form-group">
        <label for="observaciones_finales">Observaciones generales</label>
        <textarea class="observations" id="observaciones_finales" name="observaciones_finales"></textarea>
      </div>
      <button type="submit">Guardar Mantenimiento</button>
      <button type="button" class="back-button" onclick="goBackToFluidsReview()">Volver a revisión anterior</button>
    </form>
  </div>

  <!-- Nueva sección para la revisión completada -->
  <div class="reviews-container" id="finalBlankSection">
    <h1>Revisión Completada</h1>
    <div id="pdfContent" class="pdf-preview">
      <!-- PDF content will be generated here -->
    </div>
    <button onclick="generatePDF()" class="download-button">Descargar PDF</button>
    <button onclick="returnToStart()" class="back-button">Volver a inicio</button>
  </div>
</div>

<script>
function handleSubmit(event) {
  event.preventDefault();
  
  const nombre = document.getElementById('nombre').value;
  const apellido = document.getElementById('apellido').value;
  const email = document.getElementById('email').value;
  const celular = document.getElementById('celular').value;

  if (!nombre || !apellido || !email || !celular) {
    alert('Por favor, complete todos los campos');
    return;
  }

  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  if (!emailRegex.test(email)) {
    alert('Por favor, ingrese un correo electrónico válido');
    return;
  }

  const celularRegex = /^[0-9]{8}$/;
  if (!celularRegex.test(celular)) {
    alert('Por favor, ingrese un número celular válido de 8 dígitos');
    return;
  }

  const userData = {
    nombre,
    apellido,
    email,
    celular
  };
  localStorage.setItem('userData', JSON.stringify(userData));

  document.getElementById('registerForm').classList.remove('active');
  document.getElementById('servicesSection').classList.add('active');
}

function goBack() {
  localStorage.removeItem('userData');
  document.getElementById('servicesSection').classList.remove('active');
  document.getElementById('registerForm').classList.add('active');
  document.getElementById('registrationForm').reset();
}

function handleVehicleSubmit(event) {
  event.preventDefault();
  
  const placa = document.getElementById('placa').value;
  const marca = document.getElementById('marca').value;
  const tipo = document.getElementById('tipo').value;
  const modelo = document.getElementById('modelo').value;
  const anio = document.getElementById('anio').value;
  const color = document.getElementById('color').value;
  const transmision = document.getElementById('transmision').value;
  const cilindrada = document.getElementById('cilindrada').value;
  const estado = document.getElementById('estado').value;

  if (!placa || !marca || !tipo || !modelo || !anio || !color || !transmision || !cilindrada || !estado) {
    alert('Por favor, complete todos los campos');
    return;
  }

  const vehicleData = {
    placa,
    marca,
    tipo,
    modelo,
    anio,
    color,
    transmision,
    cilindrada,
    estado
  };
  
  localStorage.setItem('vehicleData', JSON.stringify(vehicleData));
  
  document.getElementById('servicesSection').classList.remove('active');
  document.getElementById('reviewsSection').classList.add('active');
}

function goBackToVehicle() {
  document.getElementById('reviewsSection').classList.remove('active');
  document.getElementById('servicesSection').classList.add('active');
}

function handleReviewSubmit(event) {
  event.preventDefault();
  
  const reviewData = {
    pintura: document.getElementById('pintura').checked,
    pintura_estado: document.getElementById('pintura_estado').value,
    tapiceria: document.getElementById('tapiceria').checked,
    tapiceria_estado: document.getElementById('tapiceria_estado').value,
    alfombras: document.getElementById('alfombras').checked,
    alfombras_estado: document.getElementById('alfombras_estado').value,
    loderas: document.getElementById('loderas').checked,
    loderas_estado: document.getElementById('loderas_estado').value,
    llantas: document.getElementById('llantas').checked,
    llantas_estado: document.getElementById('llantas_estado').value,
    focos_delanteros: document.getElementById('focos_delanteros').checked,
    focos_delanteros_estado: document.getElementById('focos_delanteros_estado').value,
    escobillas: document.getElementById('escobillas').checked,
    escobillas_estado: document.getElementById('escobillas_estado').value,
    observaciones: document.getElementById('observaciones').value
  };
  
  localStorage.setItem('reviewData', JSON.stringify(reviewData));
  
  document.getElementById('reviewsSection').classList.remove('active');
  document.getElementById('lightsReviewSection').classList.add('active');
}

function handleLightsReviewSubmit(event) {
  event.preventDefault();
  
  const lightsReviewData = {
    direccionales_delanteros: document.getElementById('direccionales_delanteros').checked,
    direccionales_delanteros_estado: document.getElementById('direccionales_delanteros_estado').value,
    direccionales_traseros: document.getElementById('direccionales_traseros').checked,
    direccionales_traseros_estado: document.getElementById('direccionales_traseros_estado').value,
    antineblineros: document.getElementById('antineblineros').checked,
    antineblineros_estado: document.getElementById('antineblineros_estado').value,
    luz_freno: document.getElementById('luz_freno').checked,
    luz_freno_estado: document.getElementById('luz_freno_estado').value,
    cuarto_luz: document.getElementById('cuarto_luz').checked,
    cuarto_luz_estado: document.getElementById('cuarto_luz_estado').value,
    tercera_luz_freno: document.getElementById('tercera_luz_freno').checked,
    tercera_luz_freno_estado: document.getElementById('tercera_luz_freno_estado').value,
    observaciones_luces: document.getElementById('observaciones_luces').value
  };
  
  localStorage.setItem('lightsReviewData', JSON.stringify(lightsReviewData));
  
  document.getElementById('lightsReviewSection').classList.remove('active');
  document.getElementById('electronicsReviewSection').classList.add('active');
}

function handleElectronicsReviewSubmit(event) {
  event.preventDefault();
  
  const electronicsReviewData = {
    camara_retroceso: document.getElementById('camara_retroceso').checked,
    camara_retroceso_estado: document.getElementById('camara_retroceso_estado').value,
    radio: document.getElementById('radio').checked,
    radio_estado: document.getElementById('radio_estado').value,
    pantalla: document.getElementById('pantalla').checked,
    pantalla_estado: document.getElementById('pantalla_estado').value,
    aire_acondicionado: document.getElementById('aire_acondicionado').checked,
    aire_acondicionado_estado: document.getElementById('aire_acondicionado_estado').value,
    cerradura_puertas: document.getElementById('cerradura_puertas').checked,
    cerradura_puertas_estado: document.getElementById('cerradura_puertas_estado').value,
    pito: document.getElementById('pito').checked,
    pito_estado: document.getElementById('pito_estado').value,
    observaciones_electronicos: document.getElementById('observaciones_electronicos').value
  };
  
  localStorage.setItem('electronicsReviewData', JSON.stringify(electronicsReviewData));
  
  document.getElementById('electronicsReviewSection').classList.remove('active');
  document.getElementById('emergencyReviewSection').classList.add('active');
}

function handleEmergencyReviewSubmit(event) {
  event.preventDefault();
  
  const emergencyReviewData = {
    luces_emergencia: document.getElementById('luces_emergencia').checked,
    luces_emergencia_estado: document.getElementById('luces_emergencia_estado').value,
    extintor: document.getElementById('extintor').checked,
    extintor_estado: document.getElementById('extintor_estado').value,
    botiquin: document.getElementById('botiquin').checked,
    botiquin_estado: document.getElementById('botiquin_estado').value,
    repuesto: document.getElementById('repuesto').checked,
    repuesto_estado: document.getElementById('repuesto_estado').value,
    herramientas: document.getElementById('herramientas').checked,
    herramientas_estado: document.getElementById('herramientas_estado').value,
    equipo_seguridad: document.getElementById('equipo_seguridad').checked,
    equipo_seguridad_estado: document.getElementById('equipo_seguridad_estado').value,
    observaciones_emergencia: document.getElementById('observaciones_emergencia').value
  };
  
  localStorage.setItem('emergencyReviewData', JSON.stringify(emergencyReviewData));
  
  document.getElementById('emergencyReviewSection').classList.remove('active');
  document.getElementById('engineReviewSection').classList.add('active');
}

function handleEngineReviewSubmit(event) {
  event.preventDefault();
  
  const engineReviewData = {
    diagnostico_motor: document.getElementById('diagnostico_motor').checked,
    diagnostico_motor_estado: document.getElementById('diagnostico_motor_estado').value,
    aceite_motor: document.getElementById('aceite_motor').checked,
    aceite_motor_estado: document.getElementById('aceite_motor_estado').value,
    sistema_frenos: document.getElementById('sistema_frenos').checked,
    sistema_frenos_estado: document.getElementById('sistema_frenos_estado').value,
    sistema_suspension: document.getElementById('sistema_suspension').checked,
    sistema_suspension_estado: document.getElementById('sistema_suspension_estado').value,
    estado_bateria: document.getElementById('estado_bateria').checked,
    estado_bateria_estado: document.getElementById('estado_bateria_estado').value,
    bujias_cables: document.getElementById('bujias_cables').checked,
    bujias_cables_estado: document.getElementById('bujias_cables_estado').value,
    observaciones_motor: document.getElementById('observaciones_motor').value
  };
  
  localStorage.setItem('engineReviewData', JSON.stringify(engineReviewData));
  
  document.getElementById('engineReviewSection').classList.remove('active');
  document.getElementById('additionalSystemsReviewSection').classList.add('active');
}

function handleAdditionalSystemsReviewSubmit(event) {
  event.preventDefault();
  
  const additionalSystemsReviewData = {
    revision_inyectores: document.getElementById('revision_inyectores').checked,
    revision_inyectores_estado: document.getElementById('revision_inyectores_estado').value,
    aceite_hidraulico: document.getElementById('aceite_hidraulico').checked,
    aceite_hidraulico_estado: document.getElementById('aceite_hidraulico_estado').value,
    bomba_agua: document.getElementById('bomba_agua').checked,
    bomba_agua_estado: document.getElementById('bomba_agua_estado').value,
    bomba_gasolina: document.getElementById('bomba_gasolina').checked,
    bomba_gasolina_estado: document.getElementById('bomba_gasolina_estado').value,
    sistema_escape: document.getElementById('sistema_escape').checked,
    sistema_escape_estado: document.getElementById('sistema_escape_estado').value,
    observaciones_sistemas: document.getElementById('observaciones_sistemas').value
  };
  
  localStorage.setItem('additionalSystemsReviewData', JSON.stringify(additionalSystemsReviewData));
  
  document.getElementById('additionalSystemsReviewSection').classList.remove('active');
  document.getElementById('fluidsReviewSection').classList.add('active');
}

function handleFluidsReviewSubmit(event) {
  event.preventDefault();
  
  const fluidsReviewData = {
    liquido_frenos: document.getElementById('liquido_frenos').checked,
    liquido_frenos_estado: document.getElementById('liquido_frenos_estado').value,
    caja_transmision: document.getElementById('caja_transmision').checked,
    caja_transmision_estado: document.getElementById('caja_transmision_estado').value,
    aceite_transmision: document.getElementById('aceite_transmision').checked,
    aceite_transmision_estado: document.getElementById('aceite_transmision_estado').value,
    sistema_enfriamiento: document.getElementById('sistema_enfriamiento').checked,
    sistema_enfriamiento_estado: document.getElementById('sistema_enfriamiento_estado').value,
    observaciones_fluidos: document.getElementById('observaciones_fluidos').value
  };
  
  localStorage.setItem('fluidsReviewData', JSON.stringify(fluidsReviewData));
  
  document.getElementById('fluidsReviewSection').classList.remove('active');
  document.getElementById('blankReviewSection').classList.add('active');
}

function handleMaintenanceSubmit(event) {
  event.preventDefault();
  
  const maintenanceData = {
    fecha_cambio_aceite_motor: document.getElementById('fecha_cambio_aceite_motor').value,
    fecha_cambio_aceite_hidraulico: document.getElementById('fecha_cambio_aceite_hidraulico').value,
    fecha_cambio_aceite_transmision: document.getElementById('fecha_cambio_aceite_transmision').value,
    fecha_cambio_liquido_frenos: document.getElementById('fecha_cambio_liquido_frenos').value,
    fecha_cambio_anticongelante: document.getElementById('fecha_cambio_anticongelante').value,
    fecha_cambio_filtro_gasolina: document.getElementById('fecha_cambio_filtro_gasolina').value,
    fecha_cambio_filtro_aire: document.getElementById('fecha_cambio_filtro_aire').value,
    observaciones_finales: document.getElementById('observaciones_finales').value
  };
  
  localStorage.setItem('maintenanceData', JSON.stringify(maintenanceData));
  
  document.getElementById('blankReviewSection').classList.remove('active');
  document.getElementById('finalBlankSection').classList.add('active');
  
  generatePDF();
}

function generatePDF() {
  const { jsPDF } = window.jspdf;
  const doc = new jsPDF();
  let yPos = 20;
  
  // Add title
  doc.setFontSize(20);
  doc.text('Informe de Revisión Vehicular', 105, yPos, { align: 'center' });
  yPos += 20;

  // Helper function to add sections
  function addSection(title, data) {
    doc.setFontSize(14);
    doc.text(title, 20, yPos);
    yPos += 10;
    doc.setFontSize(10);
    
    Object.entries(data).forEach(([key, value]) => {
      if (yPos > 270) {
        doc.addPage();
        yPos = 20;
      }
      
      let displayText = `${key.replace(/_/g, ' ').toUpperCase()}: ${value}`;
      doc.text(displayText, 20, yPos);
      yPos += 7;
    });
    yPos += 10;
  }

  // Add all sections
  const userData = JSON.parse(localStorage.getItem('userData'));
  const vehicleData = JSON.parse(localStorage.getItem('vehicleData'));
  const reviewData = JSON.parse(localStorage.getItem('reviewData'));
  const lightsReviewData = JSON.parse(localStorage.getItem('lightsReviewData'));
  const electronicsReviewData = JSON.parse(localStorage.getItem('electronicsReviewData'));
  const emergencyReviewData = JSON.parse(localStorage.getItem('emergencyReviewData'));
  const engineReviewData = JSON.parse(localStorage.getItem('engineReviewData'));
  const additionalSystemsReviewData = JSON.parse(localStorage.getItem('additionalSystemsReviewData'));
  const fluidsReviewData = JSON.parse(localStorage.getItem('fluidsReviewData'));
  const maintenanceData = JSON.parse(localStorage.getItem('maintenanceData'));

  addSection('Datos del Cliente', userData);
  addSection('Datos del Vehículo', vehicleData);
  addSection('Revisión Exterior', reviewData);
  addSection('Revisión de Luces', lightsReviewData);
  addSection('Revisión de Electrónicos', electronicsReviewData);
  addSection('Equipamiento de Emergencia', emergencyReviewData);
  addSection('Revisión del Motor', engineReviewData);
  addSection('Sistemas Adicionales', additionalSystemsReviewData);
  addSection('Revisión de Fluidos', fluidsReviewData);
  addSection('Estadísticas de Mantenimiento', maintenanceData);

  // Save the PDF
  doc.save('informe-revision-vehicular.pdf');
}

function returnToStart() {
  document.getElementById('registrationForm').reset();
  document.getElementById('vehicleForm').reset();
  document.getElementById('reviewForm').reset();
  document.getElementById('lightsReviewForm').reset();
  document.getElementById('electronicsReviewForm').reset();
  document.getElementById('emergencyReviewForm').reset();
  document.getElementById('engineReviewForm').reset();
  document.getElementById('additionalSystemsReviewForm').reset();
  document.getElementById('fluidsReviewForm').reset();
  document.getElementById('blankReviewForm').reset();
  
  document.querySelectorAll('.reviews-container, .services-container').forEach(section => {
    section.classList.remove('active');
  });
  
  document.getElementById('registerForm').classList.add('active');
  
  localStorage.clear();
  
  window.scrollTo(0, 0);
}

window.onload = function() {
  const userData = localStorage.getItem('userData');
  const vehicleData = localStorage.getItem('vehicleData');
  const reviewData = localStorage.getItem('reviewData');
  const lightsReviewData = localStorage.getItem('lightsReviewData');
  const electronicsReviewData = localStorage.getItem('electronicsReviewData');
  const emergencyReviewData = localStorage.getItem('emergencyReviewData');
  const engineReviewData = localStorage.getItem('engineReviewData');
  const additionalSystemsReviewData = localStorage.getItem('additionalSystemsReviewData');
  const fluidsReviewData = localStorage.getItem('fluidsReviewData');
  const maintenanceData = localStorage.getItem('maintenanceData');
  
  document.getElementById('registerForm').classList.remove('active');
  document.getElementById('servicesSection').classList.remove('active');
  document.getElementById('reviewsSection').classList.remove('active');
  document.getElementById('lightsReviewSection').classList.remove('active');
  document.getElementById('electronicsReviewSection').classList.remove('active');
  document.getElementById('emergencyReviewSection').classList.remove('active');
  document.getElementById('engineReviewSection').classList.remove('active');
  document.getElementById('additionalSystemsReviewSection').classList.remove('active');
  document.getElementById('fluidsReviewSection').classList.remove('active');
  document.getElementById('blankReviewSection').classList.remove('active');
  document.getElementById('finalBlankSection').classList.remove('active');
  
  if (userData) {
    if (vehicleData) {
      if (reviewData) {
        if (lightsReviewData) {
          if (electronicsReviewData) {
            if (emergencyReviewData) {
              if (engineReviewData) {
                if (additionalSystemsReviewData) {
                  if (fluidsReviewData) {
                    if (maintenanceData) {
                      document.getElementById('finalBlankSection').classList.add('active');
                    } else {
                      document.getElementById('blankReviewSection').classList.add('active');
                      const maintenance = JSON.parse(maintenanceData);
                      Object.keys(maintenance).forEach(key => {
                        const element = document.getElementById(key);
                        if (element) {
                          element.value = maintenance[key];
                        }
                      });
                    }
                  } else {
                    document.getElementById('additionalSystemsReviewSection').classList.add('active');
                    const additionalSystemsReview = JSON.parse(additionalSystemsReviewData);
                    Object.keys(additionalSystemsReview).forEach(key => {
                      const element = document.getElementById(key);
                      if (element) {
                        if (element.type === 'checkbox') {
                          element.checked = additionalSystemsReview[key];
                        } else {
                          element.value = additionalSystemsReview[key];
                        }
                      }
                    });
                  }
                } else {
                  document.getElementById('engineReviewSection').classList.add('active');
                  const engineReview = JSON.parse(engineReviewData);
                  Object.keys(engineReview).forEach(key => {
                    const element = document.getElementById(key);
                    if (element) {
                      if (element.type === 'checkbox') {
                        element.checked = engineReview[key];
                      } else {
                        element.value = engineReview[key];
                      }
                    }
                  });
                }
              } else {
                document.getElementById('emergencyReviewSection').classList.add('active');
                const emergencyReview = JSON.parse(emergencyReviewData);
                Object.keys(emergencyReview).forEach(key => {
                  const element = document.getElementById(key);
                  if (element) {
                    if (element.type === 'checkbox') {
                      element.checked = emergencyReview[key];
                    } else {
                      element.value = emergencyReview[key];
                    }
                  }
                });
              }
            } else {
              document.getElementById('electronicsReviewSection').classList.add('active');
              const electronicsReview = JSON.parse(electronicsReviewData);
              Object.keys(electronicsReview).forEach(key => {
                const element = document.getElementById(key);
                if (element) {
                  if (element.type === 'checkbox') {
                    element.checked = electronicsReview[key];
                  } else {
                    element.value = electronicsReview[key];
                  }
                }
              });
            }
          } else {
            document.getElementById('lightsReviewSection').classList.add('active');
            const lightsReview = JSON.parse(lightsReviewData);
            Object.keys(lightsReview).forEach(key => {
              const element = document.getElementById(key);
              if (element) {
                if (element.type === 'checkbox') {
                  element.checked = lightsReview[key];
                } else {
                  element.value = lightsReview[key];
                }
              }
            });
          }
        } else {
          document.getElementById('reviewsSection').classList.add('active');
          const review = JSON.parse(reviewData);
          Object.keys(review).forEach(key => {
            const element = document.getElementById(key);
            if (element) {
              if (element.type === 'checkbox') {
                element.checked = review[key];
              } else {
                element.value = review[key];
              }
            }
          });
        }
      } else {
        document.getElementById('servicesSection').classList.add('active');
        const data = JSON.parse(vehicleData);
        Object.keys(data).forEach(key => {
          if (document.getElementById(key)) {
            document.getElementById(key).value = data[key];
          }
        });
      }
    } else {
      document.getElementById('servicesSection').classList.add('active');
    }
  } else {
    document.getElementById('registerForm').classList.add('active');
  }
};
</script>

</body></html>
